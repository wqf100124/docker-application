import{_ as s,c as a,o as n,N as l}from"./chunks/framework.0799945b.js";const d=JSON.parse('{"title":"Scrapy(爬虫)","description":"","frontmatter":{},"headers":[],"relativePath":"dev/scrapy.md"}'),p={name:"dev/scrapy.md"},o=l(`<h1 id="scrapy-爬虫" tabindex="-1">Scrapy(爬虫) <a class="header-anchor" href="#scrapy-爬虫" aria-label="Permalink to &quot;Scrapy(爬虫)&quot;">​</a></h1><h2 id="构建镜像" tabindex="-1">构建镜像 <a class="header-anchor" href="#构建镜像" aria-label="Permalink to &quot;构建镜像&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i94m/scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--no-cache</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.</span></span></code></pre></div><h2 id="运行容器" tabindex="-1">运行容器 <a class="header-anchor" href="#运行容器" aria-label="Permalink to &quot;运行容器&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--network</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">web</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~/web/scrapy:/app</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--restart</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">always</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">i94m/scrapy</span></span></code></pre></div><h2 id="创建爬虫项目" tabindex="-1">创建爬虫项目 <a class="header-anchor" href="#创建爬虫项目" aria-label="Permalink to &quot;创建爬虫项目&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">startproject</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">project_nam</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">project_dir</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">crapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">startproject</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">media</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span></span></code></pre></div><h2 id="创建爬虫" tabindex="-1">创建爬虫 <a class="header-anchor" href="#创建爬虫" aria-label="Permalink to &quot;创建爬虫&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># basic</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">genspider</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">example</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">example.com</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># crawl</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">genspider</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">crawl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">example</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">example.com</span></span></code></pre></div><h2 id="抓取数据" tabindex="-1">抓取数据 <a class="header-anchor" href="#抓取数据" aria-label="Permalink to &quot;抓取数据&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 项目内</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">crawl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">example</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-O</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">example.json</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--nolog</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 全局(有些问题)</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">runspider</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/app/spider/spiders/sites.py</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--nolog</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">crawl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sites</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--nolog</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">crawl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">threads</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--nolog</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">crawl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">reads</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--nolog</span></span></code></pre></div><h2 id="存入数据库" tabindex="-1">存入数据库 <a class="header-anchor" href="#存入数据库" aria-label="Permalink to &quot;存入数据库&quot;">​</a></h2><p>待完善...</p>`,16),e=[o];function t(c,r,C,y,D,A){return n(),a("div",null,e)}const h=s(p,[["render",t]]);export{d as __pageData,h as default};
