import{_ as s,c as a,o as n,a as l}from"./app.cb3cc8cf.js";const d=JSON.parse('{"title":"Scrapy(爬虫)","description":"","frontmatter":{},"headers":[{"level":2,"title":"构建镜像","slug":"构建镜像","link":"#构建镜像","children":[]},{"level":2,"title":"运行容器","slug":"运行容器","link":"#运行容器","children":[]},{"level":2,"title":"创建爬虫项目","slug":"创建爬虫项目","link":"#创建爬虫项目","children":[]},{"level":2,"title":"创建爬虫","slug":"创建爬虫","link":"#创建爬虫","children":[]},{"level":2,"title":"抓取数据","slug":"抓取数据","link":"#抓取数据","children":[]},{"level":2,"title":"存入数据库","slug":"存入数据库","link":"#存入数据库","children":[]}],"relativePath":"dev/scrapy.md"}'),p={name:"dev/scrapy.md"},e=l(`<h1 id="scrapy-爬虫" tabindex="-1">Scrapy(爬虫) <a class="header-anchor" href="#scrapy-爬虫" aria-hidden="true">#</a></h1><h2 id="构建镜像" tabindex="-1">构建镜像 <a class="header-anchor" href="#构建镜像" aria-hidden="true">#</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wangqifei/scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--no-cache</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.</span></span>
<span class="line"></span></code></pre></div><h2 id="运行容器" tabindex="-1">运行容器 <a class="header-anchor" href="#运行容器" aria-hidden="true">#</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--network</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">web</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/web/scrapy:/var/web/scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--restart</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">always</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wangqifei/scrapy</span></span>
<span class="line"></span></code></pre></div><h2 id="创建爬虫项目" tabindex="-1">创建爬虫项目 <a class="header-anchor" href="#创建爬虫项目" aria-hidden="true">#</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">startproject</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">project_nam</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">project_dir</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">crapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">startproject</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">media</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span></span>
<span class="line"></span></code></pre></div><h2 id="创建爬虫" tabindex="-1">创建爬虫 <a class="header-anchor" href="#创建爬虫" aria-hidden="true">#</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># basic</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">genspider</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">example</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">example.com</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># crawl</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">genspider</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">crawl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">example</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">example.com</span></span>
<span class="line"></span></code></pre></div><h2 id="抓取数据" tabindex="-1">抓取数据 <a class="header-anchor" href="#抓取数据" aria-hidden="true">#</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 项目内</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">crawl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">example</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-O</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">example.json</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--nolog</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 全局(有些问题)</span></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">runspider</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/web/project/spider/example/spider/spiders/sites.py</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--nolog</span></span>
<span class="line"></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">crawl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sites</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--nolog</span></span>
<span class="line"></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">crawl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">threads</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--nolog</span></span>
<span class="line"></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scrapy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">crawl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">reads</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--nolog</span></span>
<span class="line"></span></code></pre></div><h2 id="存入数据库" tabindex="-1">存入数据库 <a class="header-anchor" href="#存入数据库" aria-hidden="true">#</a></h2><p>待完善...</p>`,16),o=[e];function c(t,r,C,y,i,D){return n(),a("div",null,o)}const h=s(p,[["render",c]]);export{d as __pageData,h as default};
